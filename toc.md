## Table of Contents

1.  [Prelude](chap00.md#leanpub-auto-prelude)
    1.  [Why to read this book](chap00.md#leanpub-auto-why-to-read-this-book)
    2.  [What this book is not about](chap00.md#leanpub-auto-what-this-book-is-not-about)
    3.  [Why to write about internals](chap00.md#leanpub-auto-why-to-write-about-internals)
    4.  [Keep the sources close](chap00.md#leanpub-auto-keep-the-sources-close)
    5.  [Code snippets and examples](chap00.md#leanpub-auto-code-snippets-and-examples)
2.  [1. Composable functions](chap01.md#leanpub-auto-composable-functions)
    1.  [The meaning of Composable functions](chap01.md#leanpub-auto-the-meaning-of-composable-functions)
    2.  [Properties of Composable functions](chap01.md#leanpub-auto-properties-of-composable-functions)
    3.  [Calling context](chap01.md#leanpub-auto-calling-context)
    4.  [Idempotent](chap01.md#leanpub-auto-idempotent)
    5.  [Free of uncontrolled side effects](chap01.md#leanpub-auto-free-of-uncontrolled-side-effects)
    6.  [Restartable](chap01.md#leanpub-auto-restartable)
    7.  [Fast execution](chap01.md#leanpub-auto-fast-execution)
    8.  [Positional memoization](chap01.md#leanpub-auto-positional-memoization)
    9.  [Similarities with suspend functions](chap01.md#leanpub-auto-similarities-with-suspend-functions)
    10. [The color of Composable functions](chap01.md#leanpub-auto-the-color-of-composable-functions)
    11. [Composable function types](chap01.md#leanpub-auto-composable-function-types)
3.  [2. The Compose compiler](chap02.md#leanpub-auto-the-compose-compiler)
    1.  [A Kotlin compiler plugin](chap02.md#leanpub-auto-a-kotlin-compiler-plugin)
    2.  [Compose annotations](chap02.md#leanpub-auto-compose-annotations)
    3.  [Registering Compiler extensions](chap02.md#leanpub-auto-registering-compiler-extensions)
    4.  [Kotlin Compiler version](chap02.md#leanpub-auto-kotlin-compiler-version)
    5.  [Static analysis](chap02.md#leanpub-auto-static-analysis)
    6.  [Static Checkers](chap02.md#leanpub-auto-static-checkers)
    7.  [Call checks](chap02.md#leanpub-auto-call-checks)
    8.  [Type checks](chap02.md#leanpub-auto-type-checks)
    9.  [Declaration checks](chap02.md#leanpub-auto-declaration-checks)
    10. [Diagnostic suppression](chap02.md#leanpub-auto-diagnostic-suppression)
    11. [Runtime version check](chap02.md#leanpub-auto-runtime-version-check)
    12. [Code generation](chap02.md#leanpub-auto-code-generation)
    13. [The Kotlin IR](chap02.md#leanpub-auto-the-kotlin-ir)
    14. [Lowering](chap02.md#leanpub-auto-lowering)
    15. [Inferring class stability](chap02.md#leanpub-auto-inferring-class-stability)
    16. [Enabling live literals](chap02.md#leanpub-auto-enabling-live-literals)
    17. [Compose lambda memoization](chap02.md#leanpub-auto-compose-lambda-memoization)
    18. [Injecting the Composer](chap02.md#leanpub-auto-injecting-the-composer)
    19. [Comparison propagation](chap02.md#leanpub-auto-comparison-propagation)
    20. [Default parameters](chap02.md#leanpub-auto-default-parameters)
    21. [Control flow group generation](chap02.md#leanpub-auto-control-flow-group-generation)
    22. [Klib and decoy generation](chap02.md#leanpub-auto-klib-and-decoy-generation)
4.  [3. The Compose runtime](chap03.md#leanpub-auto-the-compose-runtime)
    1.  [The slot table and the list of changes](chap03.md#leanpub-auto-the-slot-table-and-the-list-of-changes)
    2.  [The slot table in depth](chap03.md#leanpub-auto-the-slot-table-in-depth)
    3.  [The list of changes](chap03.md#leanpub-auto-the-list-of-changes)
    4.  [The Composer](chap03.md#leanpub-auto-the-composer)
    5.  [Feeding the Composer](chap03.md#leanpub-auto-feeding-the-composer)
    6.  [Modeling the Changes](chap03.md#leanpub-auto-modeling-the-changes)
    7.  [Optimizing when to write](chap03.md#leanpub-auto-optimizing-when-to-write)
    8.  [Writing and reading groups](chap03.md#leanpub-auto-writing-and-reading-groups)
    9.  [Remembering values](chap03.md#leanpub-auto-remembering-values)
    10. [Recompose scopes](chap03.md#leanpub-auto-recompose-scopes)
    11. [SideEffects in the Composer](chap03.md#leanpub-auto-sideeffects-in-the-composer)
    12. [Storing CompositionLocals](chap03.md#leanpub-auto-storing-compositionlocals)
    13. [Storing source information](chap03.md#leanpub-auto-storing-source-information)
    14. [Linking Compositions via CompositionContext](chap03.md#leanpub-auto-linking-compositions-via-compositioncontext)
    15. [Accessing the current State snapshot](chap03.md#leanpub-auto-accessing-the-current-state-snapshot)
    16. [Navigating the nodes](chap03.md#leanpub-auto-navigating-the-nodes)
    17. [Keeping reader and writer in sync](chap03.md#leanpub-auto-keeping-reader-and-writer-in-sync)
    18. [Applying the changes](chap03.md#leanpub-auto-applying-the-changes)
    19. [Performance when building the node tree](chap03.md#leanpub-auto-performance-when-building-the-node-tree)
    20. [How changes are applied](chap03.md#leanpub-auto-how-changes-are-applied)
    21. [Attaching and drawing the nodes](chap03.md#leanpub-auto-attaching-and-drawing-the-nodes)
    22. [Composition](chap03.md#leanpub-auto-composition)
    23. [Creating a Composition](chap03.md#leanpub-auto-creating-a-composition)
    24. [The initial Composition process](chap03.md#leanpub-auto-the-initial-composition-process)
    25. [Applying changes after initial Composition](chap03.md#leanpub-auto-applying-changes-after-initial-composition)
    26. [Additional information about the Composition](chap03.md#leanpub-auto-additional-information-about-the-composition)
    27. [The Recomposer](chap03.md#leanpub-auto-the-recomposer)
    28. [Spawning the Recomposer](chap03.md#leanpub-auto-spawning-the-recomposer)
    29. [Recomposition process](chap03.md#leanpub-auto-recomposition-process)
    30. [Concurrent recomposition](chap03.md#leanpub-auto-concurrent-recomposition)
    31. [Recomposer states](chap03.md#leanpub-auto-recomposer-states)
5.  [4. Compose UI](chap04.md#leanpub-auto-compose-ui)
    1.  [Integrating UI with the Compose runtime](chap04.md#leanpub-auto-integrating-ui-with-the-compose-runtime)
    2.  [Mapping scheduled changes to actual changes to the tree](chap04.md#leanpub-auto-mapping-scheduled-changes-to-actual-changes-to-the-tree)
    3.  [Composition from the point of view of Compose UI](chap04.md#leanpub-auto-composition-from-the-point-of-view-of-compose-ui)
    4.  [Subcomposition from the point of view of Compose UI](chap04.md#leanpub-auto-subcomposition-from-the-point-of-view-of-compose-ui)
    5.  [Reflecting changes in the UI](chap04.md#leanpub-auto-reflecting-changes-in-the-ui)
    6.  [Different types of Appliers](chap04.md#leanpub-auto-different-types-of-appliers)
    7.  [Materializing a new LayoutNode](chap04.md#leanpub-auto-materializing-a-new-layoutnode)
    8.  [Closing the circle](chap04.md#leanpub-auto-closing-the-circle)
    9.  [Materializing a change to remove nodes](chap04.md#leanpub-auto-materializing-a-change-to-remove-nodes)
    10. [Materializing a change to move nodes](chap04.md#leanpub-auto-materializing-a-change-to-move-nodes)
    11. [Materializing a change to clear all the nodes](chap04.md#leanpub-auto-materializing-a-change-to-clear-all-the-nodes)
    12. [Measuring in Compose UI](chap04.md#leanpub-auto-measuring-in-compose-ui)
    13. [Measuring policies](chap04.md#leanpub-auto-measuring-policies)
    14. [Intrinsic measurements](chap04.md#leanpub-auto-intrinsic-measurements)
    15. [Layout Constraints](chap04.md#leanpub-auto-layout-constraints)
    16. [LookaheadLayout](chap04.md#leanpub-auto-lookaheadlayout)
    17. [Modeling modifier chains](chap04.md#leanpub-auto-modeling-modifier-chains)
    18. [Setting modifiers to the LayoutNode](chap04.md#leanpub-auto-setting-modifiers-to-the-layoutnode)
    19. [How LayoutNode ingests new modifiers](chap04.md#leanpub-auto-how-layoutnode-ingests-new-modifiers)
    20. [Drawing the node tree](chap04.md#leanpub-auto-drawing-the-node-tree)
    21. [Semantics in Jetpack Compose](chap04.md#leanpub-auto-semantics-in-jetpack-compose)
    22. [Notifying about semantic changes](chap04.md#leanpub-auto-notifying-about-semantic-changes)
    23. [Merged and unmerged semantic trees](chap04.md#leanpub-auto-merged-and-unmerged-semantic-trees)
6.  [5. State snapshot system](chap05.md#leanpub-auto-state-snapshot-system)
    1.  [What snapshot state is](chap05.md#leanpub-auto-what-snapshot-state-is)
    2.  [Concurrency control systems](chap05.md#leanpub-auto-concurrency-control-systems)
    3.  [Multiversion concurrency control (MCC or MVCC)](chap05.md#leanpub-auto-multiversion-concurrency-control-mcc-or-mvcc)
    4.  [The Snapshot](chap05.md#leanpub-auto-the-snapshot)
    5.  [The snapshot tree](chap05.md#leanpub-auto-the-snapshot-tree)
    6.  [Snapshots and threading](chap05.md#leanpub-auto-snapshots-and-threading)
    7.  [Observing reads and writes](chap05.md#leanpub-auto-observing-reads-and-writes)
    8.  [MutableSnapshots](chap05.md#leanpub-auto-mutablesnapshots)
    9.  [GlobalSnapshot and nested snapshots](chap05.md#leanpub-auto-globalsnapshot-and-nested-snapshots)
    10. [StateObjects and StateRecords](chap05.md#leanpub-auto-stateobjects-and-staterecords)
    11. [Reading and writing state](chap05.md#leanpub-auto-reading-and-writing-state)
    12. [Removing or reusing obsolete records](chap05.md#leanpub-auto-removing-or-reusing-obsolete-records)
    13. [Change propagation](chap05.md#leanpub-auto-change-propagation)
    14. [Merging write conflicts](chap05.md#leanpub-auto-merging-write-conflicts)
7.  [6. Effects and effect handlers](chap06.md#leanpub-auto-effects-and-effect-handlers)
    1.  [Introducing side effects](chap06.md#leanpub-auto-introducing-side-effects)
    2.  [Side effects in Compose](chap06.md#leanpub-auto-side-effects-in-compose)
    3.  [What we need](chap06.md#leanpub-auto-what-we-need)
    4.  [Effect Handlers](chap06.md#leanpub-auto-effect-handlers)
    5.  [Non suspended effects](chap06.md#leanpub-auto-non-suspended-effects)
    6.  [Suspended effects](chap06.md#leanpub-auto-suspended-effects)
    7.  [Third party library adapters](chap06.md#leanpub-auto-third-party-library-adapters)
8.  [7. Advanced Compose Runtime use cases](chap07.md#leanpub-auto-advanced-compose-runtime-use-cases)
    1.  [Compose runtime vs Compose UI](chap07.md#leanpub-auto-compose-runtime-vs-compose-ui)
    2.  [(Re-) Introducing composition](chap07.md#leanpub-auto-re--introducing-composition)
    3.  [Composition of vector graphics](chap07.md#leanpub-auto-composition-of-vector-graphics)
    4.  [Building vector image tree](chap07.md#leanpub-auto-building-vector-image-tree)
    5.  [Integrating vector composition into Compose UI](chap07.md#leanpub-auto-integrating-vector-composition-into-compose-ui)
    6.  [Managing DOM with Compose](chap07.md#leanpub-auto-managing-dom-with-compose)
    7.  [Standalone composition in the browser](chap07.md#leanpub-auto-standalone-composition-in-the-browser)
    8.  [Conclusion](chap07.md#leanpub-auto-conclusion)

## Guide

1.  [Begin Reading](chap00.md)